<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction · FMIFlux.jl</title><meta name="title" content="Introduction · FMIFlux.jl"/><meta property="og:title" content="Introduction · FMIFlux.jl"/><meta property="twitter:title" content="Introduction · FMIFlux.jl"/><meta name="description" content="Documentation for FMIFlux.jl."/><meta property="og:description" content="Documentation for FMIFlux.jl."/><meta property="twitter:description" content="Documentation for FMIFlux.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="FMIFlux.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Introduction</a><ul class="internal"><li><a class="tocitem" href="#What-is-FMIFlux.jl?"><span>What is FMIFlux.jl?</span></a></li><li><a class="tocitem" href="#How-can-I-use-FMIFlux.jl?"><span>How can I use FMIFlux.jl?</span></a></li><li><a class="tocitem" href="#What-is-currently-supported-in-FMIFlux.jl?"><span>What is currently supported in FMIFlux.jl?</span></a></li><li><a class="tocitem" href="#(Current)-Limitations"><span>(Current) Limitations</span></a></li><li><a class="tocitem" href="#What-is-under-development-in-FMIFlux.jl?"><span>What is under development in FMIFlux.jl?</span></a></li><li><a class="tocitem" href="#What-Platforms-are-supported?"><span>What Platforms are supported?</span></a></li><li><a class="tocitem" href="#What-FMI.jl-Library-should-I-use?"><span>What FMI.jl-Library should I use?</span></a></li><li><a class="tocitem" href="#Video-Workshops"><span>Video-Workshops</span></a></li><li><a class="tocitem" href="#How-to-cite?"><span>How to cite?</span></a></li><li><a class="tocitem" href="#Related-publications?"><span>Related publications?</span></a></li></ul></li><li><a class="tocitem" href="faq/">FAQ</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="examples/overview/">Overview</a></li><li><a class="tocitem" href="examples/simple_hybrid_CS/">Simple CS-NeuralFMU</a></li><li><a class="tocitem" href="examples/simple_hybrid_ME/">Simple ME-NeuralFMU</a></li><li><a class="tocitem" href="examples/juliacon_2023/">JuliaCon 2023</a></li><li><a class="tocitem" href="examples/modelica_conference_2021/">Modelica Conference 2021</a></li><li><a class="tocitem" href="examples/workshops/">Pluto Workshops</a></li></ul></li><li><a class="tocitem" href="library/">Library Functions</a></li><li><a class="tocitem" href="related/">Related Publication</a></li><li><a class="tocitem" href="contents/">Contents</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Introduction</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Introduction</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ThummeTo/FMIFlux.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p><img src="https://github.com/ThummeTo/FMIFlux.jl/blob/main/logo/dark/fmifluxjl_logo_640_320.png?raw=true &quot;FMIFlux.jl Logo&quot;" alt="FMIFlux.jl Logo"/></p><h1 id="FMIFlux.jl"><a class="docs-heading-anchor" href="#FMIFlux.jl">FMIFlux.jl</a><a id="FMIFlux.jl-1"></a><a class="docs-heading-anchor-permalink" href="#FMIFlux.jl" title="Permalink"></a></h1><h2 id="What-is-FMIFlux.jl?"><a class="docs-heading-anchor" href="#What-is-FMIFlux.jl?">What is FMIFlux.jl?</a><a id="What-is-FMIFlux.jl?-1"></a><a class="docs-heading-anchor-permalink" href="#What-is-FMIFlux.jl?" title="Permalink"></a></h2><p><a href="https://github.com/ThummeTo/FMIFlux.jl"><em>FMIFlux.jl</em></a> is a free-to-use software library for the Julia programming language, which offers the ability to simply place your FMU (<a href="http://fmi-standard.org/">fmi-standard.org</a>) everywhere inside of your ML topologies and still keep the resulting models trainable with a standard (or custom) FluxML training process. This includes for example:</p><ul><li>NeuralODEs including FMUs, so called <em>Neural Functional Mock-up Units</em> (NeuralFMUs): </li></ul><p>You can place FMUs inside of your ML topology.</p><ul><li>PINNs including FMUs, so called <em>Functional Mock-Up Unit informed Neural Networks</em> (FMUINNs): </li></ul><p>You can evaluate FMUs inside of your loss function. </p><p><a href="https://ThummeTo.github.io/FMIFlux.jl/dev"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt="Dev Docs"/></a>  <a href="https://github.com/ThummeTo/FMIFlux.jl/actions/workflows/TestLatest.yml"><img src="https://github.com/ThummeTo/FMIFlux.jl/actions/workflows/TestLatest.yml/badge.svg" alt="Test (latest)"/></a> <a href="https://github.com/ThummeTo/FMIFlux.jl/actions/workflows/TestLTS.yml"><img src="https://github.com/ThummeTo/FMIFlux.jl/actions/workflows/TestLTS.yml/badge.svg" alt="Test (LTS)"/></a> <a href="https://github.com/ThummeTo/FMIFlux.jl/actions/workflows/Example.yml"><img src="https://github.com/ThummeTo/FMIFlux.jl/actions/workflows/Example.yml/badge.svg" alt="Examples"/></a> <a href="https://github.com/ThummeTo/FMIFlux.jl/actions/workflows/Documentation.yml"><img src="https://github.com/ThummeTo/FMIFlux.jl/actions/workflows/Documentation.yml/badge.svg" alt="Build Docs"/></a> <a href="https://github.com/ThummeTo/FMIFlux.jl/actions/workflows/Eval.yml"><img src="https://github.com/ThummeTo/FMIFlux.jl/actions/workflows/Eval.yml/badge.svg" alt="Run PkgEval"/></a> <a href="https://codecov.io/gh/ThummeTo/FMIFlux.jl"><img src="https://codecov.io/gh/ThummeTo/FMIFlux.jl/branch/main/graph/badge.svg" alt="Coverage"/></a> <a href="https://github.com/SciML/ColPrac"><img src="https://img.shields.io/badge/ColPrac-Contributor&#39;s%20Guide-blueviolet" alt="ColPrac: Contributor&#39;s Guide on Collaborative Practices for Community Packages"/></a> <a href="https://github.com/SciML/SciMLStyle"><img src="https://img.shields.io/static/v1?label=code%20style&amp;message=SciML&amp;color=9558b2&amp;labelColor=389826" alt="SciML Code Style"/></a></p><h2 id="How-can-I-use-FMIFlux.jl?"><a class="docs-heading-anchor" href="#How-can-I-use-FMIFlux.jl?">How can I use FMIFlux.jl?</a><a id="How-can-I-use-FMIFlux.jl?-1"></a><a class="docs-heading-anchor-permalink" href="#How-can-I-use-FMIFlux.jl?" title="Permalink"></a></h2><p>1. Open a Julia-REPL, switch to package mode using <code>]</code>, activate your preferred environment.</p><p>2. Install  <a href="https://github.com/ThummeTo/FMIFlux.jl"><em>FMIFlux.jl</em></a>:</p><pre><code class="language-julia-repl hljs">(@v1) pkg&gt; add FMIFlux</code></pre><p>3. If you want to check that everything works correctly, you can run the tests bundled with <a href="https://github.com/ThummeTo/FMIFlux.jl"><em>FMIFlux.jl</em></a>:</p><pre><code class="language-julia-repl hljs">(@v1) pkg&gt; test FMIFlux</code></pre><p>4. Have a look inside the <a href="https://github.com/ThummeTo/FMIFlux.jl/tree/examples/examples">examples folder</a> in the examples branch or the <a href="https://thummeto.github.io/FMIFlux.jl/dev/examples/overview/">examples section</a> of the documentation. All examples are available as Julia-Script (<em>.jl</em>), Jupyter-Notebook (<em>.ipynb</em>) and Markdown (<em>.md</em>).</p><h2 id="What-is-currently-supported-in-FMIFlux.jl?"><a class="docs-heading-anchor" href="#What-is-currently-supported-in-FMIFlux.jl?">What is currently supported in FMIFlux.jl?</a><a id="What-is-currently-supported-in-FMIFlux.jl?-1"></a><a class="docs-heading-anchor-permalink" href="#What-is-currently-supported-in-FMIFlux.jl?" title="Permalink"></a></h2><ul><li>building and training ME-NeuralFMUs (NeuralODEs) with support for event-handling (<em>DiffEqCallbacks.jl</em>) and discontinuous sensitivity analysis (<em>SciMLSensitivity.jl</em>)</li><li>building and training CS-NeuralFMUs </li><li>building and training NeuralFMUs consisting of multiple FMUs</li><li>building and training FMUINNs (PINNs)</li><li>different AD-frameworks: ForwardDiff.jl (CI-tested), ReverseDiff.jl (CI-tested, default setting), FiniteDiff.jl (not CI-tested) and Zygote.jl (not CI-tested)</li><li>use <code>Flux.jl</code> optimizers as well as the ones from <code>Optim.jl</code></li><li>using the entire <em>DifferentialEquations.jl</em> solver suite (<code>autodiff=false</code> for implicit solvers, not all are tested, see following section)</li><li>...</li></ul><h2 id="(Current)-Limitations"><a class="docs-heading-anchor" href="#(Current)-Limitations">(Current) Limitations</a><a id="(Current)-Limitations-1"></a><a class="docs-heading-anchor-permalink" href="#(Current)-Limitations" title="Permalink"></a></h2><ul><li><p>Not all implicit solvers work for challenging, hybrid models (stiff FMUs with events), currently tested are: <code>Rosenbrock23(autodiff=false)</code>.</p></li><li><p>Implicit solvers using <code>autodiff=true</code> is not supported (now), but you can use implicit solvers with <code>autodiff=false</code>.</p></li><li><p>Sensitivity information over state change by event <span>$\partial x^{+} / \partial x^{-}$</span> can&#39;t be accessed in FMI. </p></li></ul><p>These sensitivities are sampled if the FMU supports <code>fmiXGet/SetState</code>. If this feature is not available, wrong sensitivities are computed, which my influence your optimization (dependent on the use case). This issue is also part of the <a href="https://itea4.org/project/openscaling.html"><em>OpenScaling</em></a> research project.</p><ul><li>If continuous adjoints instead of automatic differentiation through the ODE solver (discrete adjoint) are applied, this might lead to issues, because FMUs are by design not capable of being simulated backwards in time. </li></ul><p>On the other hand, many FMUs are capable of doing so. This issue is also part of the <a href="https://itea4.org/project/openscaling.html"><em>OpenScaling</em></a> research project.</p><ul><li>For now, only FMI version 2.0 is supported, but FMI 3.0 support is coming with the <a href="https://itea4.org/project/openscaling.html"><em>OpenScaling</em></a> research project.</li></ul><h2 id="What-is-under-development-in-FMIFlux.jl?"><a class="docs-heading-anchor" href="#What-is-under-development-in-FMIFlux.jl?">What is under development in FMIFlux.jl?</a><a id="What-is-under-development-in-FMIFlux.jl?-1"></a><a class="docs-heading-anchor-permalink" href="#What-is-under-development-in-FMIFlux.jl?" title="Permalink"></a></h2><ul><li>performance optimizations</li><li>multi threaded CPU training</li><li>improved documentation</li><li>more examples</li><li>FMI3 integration</li><li>...</li></ul><h2 id="What-Platforms-are-supported?"><a class="docs-heading-anchor" href="#What-Platforms-are-supported?">What Platforms are supported?</a><a id="What-Platforms-are-supported?-1"></a><a class="docs-heading-anchor-permalink" href="#What-Platforms-are-supported?" title="Permalink"></a></h2><p><a href="https://github.com/ThummeTo/FMIFlux.jl"><em>FMIFlux.jl</em></a> is tested (and testing) under Julia versions <em>v1.6</em> (LTS) and <em>v1</em> (latest) on Windows (latest) and Ubuntu (latest). MacOS should work, but untested. All shipped examples are automatically tested under Julia version <em>v1</em> (latest) on Windows (latest).</p><h2 id="What-FMI.jl-Library-should-I-use?"><a class="docs-heading-anchor" href="#What-FMI.jl-Library-should-I-use?">What FMI.jl-Library should I use?</a><a id="What-FMI.jl-Library-should-I-use?-1"></a><a class="docs-heading-anchor-permalink" href="#What-FMI.jl-Library-should-I-use?" title="Permalink"></a></h2><p><img src="https://github.com/ThummeTo/FMI.jl/blob/main/docs/src/assets/FMI_JL_family.png?raw=true &quot;FMI.jl Family&quot;" alt="FMI.jl Family"/> To keep dependencies nice and clean, the original package <a href="https://github.com/ThummeTo/FMI.jl"><em>FMI.jl</em></a> had been split into new packages:</p><ul><li><a href="https://github.com/ThummeTo/FMI.jl"><em>FMI.jl</em></a>: High level loading, manipulating, saving or building entire FMUs from scratch</li><li><a href="https://github.com/ThummeTo/FMIImport.jl"><em>FMIImport.jl</em></a>: Importing FMUs into Julia</li><li><a href="https://github.com/ThummeTo/FMIExport.jl"><em>FMIExport.jl</em></a>: Exporting stand-alone FMUs from Julia Code</li><li><a href="https://github.com/ThummeTo/FMIBase.jl"><em>FMIBase.jl</em></a>: Common concepts for import and export of FMUs</li><li><a href="https://github.com/ThummeTo/FMICore.jl"><em>FMICore.jl</em></a>: C-code wrapper for the FMI-standard</li><li><a href="https://github.com/ThummeTo/FMISensitivity.jl"><em>FMISensitivity.jl</em></a>: Static and dynamic sensitivities over FMUs</li><li><a href="https://github.com/ThummeTo/FMIBuild.jl"><em>FMIBuild.jl</em></a>: Compiler/Compilation dependencies for FMIExport.jl</li><li><a href="https://github.com/ThummeTo/FMIFlux.jl"><em>FMIFlux.jl</em></a>: Machine Learning with FMUs</li><li><a href="https://github.com/ThummeTo/FMIZoo.jl"><em>FMIZoo.jl</em></a>: A collection of testing and example FMUs</li></ul><h2 id="Video-Workshops"><a class="docs-heading-anchor" href="#Video-Workshops">Video-Workshops</a><a id="Video-Workshops-1"></a><a class="docs-heading-anchor-permalink" href="#Video-Workshops" title="Permalink"></a></h2><h3 id="JuliaCon-2024-(Eindhoven-University-of-Technology,-Netherlands)"><a class="docs-heading-anchor" href="#JuliaCon-2024-(Eindhoven-University-of-Technology,-Netherlands)">JuliaCon 2024 (Eindhoven University of Technology, Netherlands)</a><a id="JuliaCon-2024-(Eindhoven-University-of-Technology,-Netherlands)-1"></a><a class="docs-heading-anchor-permalink" href="#JuliaCon-2024-(Eindhoven-University-of-Technology,-Netherlands)" title="Permalink"></a></h3><p><a href="https://www.youtube.com/watch?v=sQ2MXSswrSo"><img src="https://img.youtube.com/vi/sQ2MXSswrSo/0.jpg" alt="YouTube Video of Workshop"/></a></p><h3 id="JuliaCon-2023-(Massachusetts-Institute-of-Technology,-United-States)"><a class="docs-heading-anchor" href="#JuliaCon-2023-(Massachusetts-Institute-of-Technology,-United-States)">JuliaCon 2023 (Massachusetts Institute of Technology, United States)</a><a id="JuliaCon-2023-(Massachusetts-Institute-of-Technology,-United-States)-1"></a><a class="docs-heading-anchor-permalink" href="#JuliaCon-2023-(Massachusetts-Institute-of-Technology,-United-States)" title="Permalink"></a></h3><p><a href="https://www.youtube.com/watch?v=X_u0KlZizD4"><img src="https://img.youtube.com/vi/X_u0KlZizD4/0.jpg" alt="YouTube Video of Workshop"/></a></p><h2 id="How-to-cite?"><a class="docs-heading-anchor" href="#How-to-cite?">How to cite?</a><a id="How-to-cite?-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-cite?" title="Permalink"></a></h2><p>Tobias Thummerer, Johannes Stoljar and Lars Mikelsons. 2022. <strong>NeuralFMU: presenting a workflow for integrating hybrid NeuralODEs into real-world applications.</strong> Electronics 11, 19, 3202. <a href="https://doi.org/10.3390/electronics11193202">DOI: 10.3390/electronics11193202</a></p><p>Tobias Thummerer, Lars Mikelsons and Josef Kircher. 2021. <strong>NeuralFMU: towards structural integration of FMUs into neural networks.</strong> Martin Sjölund, Lena Buffoni, Adrian Pop and Lennart Ochel (Ed.). Proceedings of 14th Modelica Conference 2021, Linköping, Sweden, September 20-24, 2021. Linköping University Electronic Press, Linköping (Linköping Electronic Conference Proceedings ; 181), 297-306. <a href="https://doi.org/10.3384/ecp21181297">DOI: 10.3384/ecp21181297</a></p><h2 id="Related-publications?"><a class="docs-heading-anchor" href="#Related-publications?">Related publications?</a><a id="Related-publications?-1"></a><a class="docs-heading-anchor-permalink" href="#Related-publications?" title="Permalink"></a></h2><p>Tobias Thummerer, Johannes Tintenherr, Lars Mikelsons 2021. <strong>Hybrid modeling of the human cardiovascular system using NeuralFMUs</strong> Journal of Physics: Conference Series 2090, 1, 012155. <a href="https://doi.org/10.1088/1742-6596/2090/1/012155">DOI: 10.1088/1742-6596/2090/1/012155</a></p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="faq/">FAQ »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Wednesday 16 October 2024 10:21">Wednesday 16 October 2024</span>. Using Julia version 1.11.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
